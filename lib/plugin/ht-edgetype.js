!function(_){"use strict";function v(_,U){return A(_,U).width}function t(_,U){return A(_,U).height}function h(_,U){return u.getEdgeHostPosition(_,U,"source")}function $(_,U){return u.getEdgeHostPosition(_,U,"target")}function C(_,U){var u=_.s(I),N=_.getEdgeGroup();if(N){var b=0;if(N.eachSiblingEdge(function(_){U.isVisible(_)&&_.s(I)==u&&b++}),1<b)return _.s(X)*(b-1)/2}return 0}function o(u,N){var b=u.s(I),_=u.isLooped();if(!u.getEdgeGroup())return _?u.s(X):0;var K,R=0,F=0,T=0;return u.getEdgeGroup().getSiblings().each(function(_){_.each(function(_){var U;_._40I===u._40I&&_.s(I)==b&&N.isVisible(_)&&(U=_.s(X),T=(K?F+=T/2+U/2:K=_,U),_===u&&(R=F))})}),_?F-R+T:R-F/2}function e(_,U){return U=U.s("edge.corner.radius"),k.toRoundedCorner(_,U)}function R(b,_,K,R,U,u){if(U.sort(function(_,U){var u=_.getSourceAgent()===K?_.getTargetAgent():_.getSourceAgent(),N=U.getSourceAgent()===K?U.getTargetAgent():U.getSourceAgent(),u=u instanceof r.Edge?L(b,u):u.p(),N=N instanceof r.Edge?L(b,N):N.p();if(R===q||R===f){if(u.y>N.y)return 1;if(u.y<N.y)return-1}else{if(u.x>N.x)return 1;if(u.x<N.x)return-1}return k.sortFunc(_.getId(),U.getId())}),u){for(var N,F,T,I=_.getSourceAgent(),w=_.getTargetAgent(),x=0;x<U.size();x++){var s=U.get(x);s.getSourceAgent()===I&&s.getTargetAgent()===w||s.getTargetAgent()===I&&s.getSourceAgent()===w?(F=F||new P).add(s,0):(F?T=T||new P:N=N||new P).add(s)}U.clear(),N&&U.addAll(N),F&&U.addAll(F),T&&U.addAll(T)}var u=U.indexOf(_),Y=U.size(),_=_.s(X);return{side:R,index:u,size:Y,offset:-_*(Y-1)/2+_*u}}function Y(U,_,u,N,b){var K=_.s(I);return R(U,_,u,N,u.getAgentEdges().toList(function(_){return U.isVisible(_)&&_.s(I)===K}),b)}function K(_,U,u){return U=U.getSourceAgent()===u?U.getTargetAgent():U.getSourceAgent(),u=u instanceof r.Edge?L(_,u):u.p(),U=(_=U instanceof r.Edge?L(_,U):U.p()).x-u.x,_=_.y-u.y,0<U&&V(_)<=U?f:U<0&&V(_)<=-U?q:0<_&&V(U)<=_?a:l}function O(U,_,u){var N=_.s(I),b=K(U,_,u);return R(U,_,u,b,u.getAgentEdges().toList(function(_){return U.isVisible(_)&&_.s(I)===N&&K(U,_,u)===b}))}function F(_,U,u){var N=U.getSourceAgent()===u,U=N?U.getTargetAgent():U.getSourceAgent(),b=u instanceof r.Edge,K=U instanceof r.Edge,b=b?L(_,u):u.p(),u=K?L(_,U):U.p();return N?b.y>u.y?l:a:b.x<u.x?f:q}function b(U,_,u){var N=_.s(I),b=F(U,_,u);return R(U,_,u,b,u.getAgentEdges().toList(function(_){return U.isVisible(_)&&_.s(I)===N&&F(U,_,u)===b}),b===f||b===a)}function T(_,U,u){var N=U.getSourceAgent()===u,U=N?U.getTargetAgent():U.getSourceAgent(),b=u instanceof r.Edge,K=U instanceof r.Edge,b=b?L(_,u):u.p(),u=K?L(_,U):U.p();return N?b.x<u.x?f:q:b.y>u.y?l:a}function w(U,_,u){var N=_.s(I),b=T(U,_,u);return R(U,_,u,b,u.getAgentEdges().toList(function(_){return U.isVisible(_)&&_.s(I)===N&&T(U,_,u)===b}),b===f||b===a)}function N(_,U,u){var N=_.getSourceAgent(),b=_.getTargetAgent(),K=N.getId()>b.getId(),R=K?b:N,N=K?N:b,b=R instanceof r.Edge,F=N instanceof r.Edge,T=b?L(U,R):R.p(),I=F?L(U,N):N.p(),w=u(U,_,R),u=u(U,_,N),x=(Y=_.s(M))||b?0:v(U,R)/2,s=Y||F?0:v(U,N)/2,b=Y||b?0:t(U,R)/2,R=Y||F?0:t(U,N)/2,Y=w.offset,F=u.offset,U=w.side,N=u.side,w=new P;return U===l?(w.add({x:T.x+Y,y:T.y-b}),w.add({x:T.x+Y,y:I.y+F}),N===q?w.add({x:I.x-s,y:I.y+F}):w.add({x:I.x+s,y:I.y+F})):U===a?(w.add({x:T.x+Y,y:T.y+b}),w.add({x:T.x+Y,y:I.y+F}),N===q?w.add({x:I.x-s,y:I.y+F}):w.add({x:I.x+s,y:I.y+F})):U===q?(w.add({x:T.x-x,y:T.y+Y}),w.add({x:I.x+F,y:T.y+Y}),N===a?w.add({x:I.x+F,y:I.y+R}):w.add({x:I.x+F,y:I.y-R})):U===f&&(w.add({x:T.x+x,y:T.y+Y}),w.add({x:I.x+F,y:T.y+Y}),N===a?w.add({x:I.x+F,y:I.y+R}):w.add({x:I.x+F,y:I.y-R})),K&&w.reverse(),e(w,_)}var r=_.ht,_=Math,Q=_.max,n=_.min,V=_.abs,p=_.atan2,W=(_.cos,_.sin,_.ceil),k=r.Default,u=k.getInternal(),P=r.List,m=u.Mat,A=u.getNodeRect,i=u.intersectionLineRect,d=k.getDistance,_=k.setEdgeType,U=(k.unionRect,k._edgeProtectMethod),x=U.getStraightLinePoints,s=U.getPercentPosition,q="left",f="right",l="top",a="bottom",I="edge.type",X="edge.gap",M="edge.center",D="edge.extend",L=function(_,U){_=_.getDataUI(U),U=x(_);return s(U,50)};u.addMethod(r.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),_("boundary",function(_,U,u,N){N||(U=-U);var N=h(u,_),b=$(u,_),K=_._40I,_=_._41I,R=K instanceof r.Edge,F=_ instanceof r.Edge,T=new m(p(b.y-N.y,b.x-N.x)),I=d(N,b),w=N.x,x=N.y,s=T.tf(0,U),N={x:s.x+w,y:s.y+x},b={x:(s=T.tf(I,U)).x+w,y:s.y+x};return R?N={x:(s=L(u,K)).x,y:s.y}:(T=A(u,K),(s=i(N,b,T))&&(N={x:s[0],y:s[1]})),F?b={x:(s=L(u,_)).x,y:s.y}:(I=A(u,_),(s=i(N,b,I))&&(b={x:s[0],y:s[1]})),{points:new P([N,b])}}),_("ripple",function(_,U,u,N){N||(U=-U);var b=h(u,_),u=$(u,_),K=d(b,u),R=n(_.s("edge.offset"),K/2),F=_.s("edge.ripple.size"),T=_.s("edge.ripple.length"),I=_.s("edge.ripple.both"),w=_.s(M),x=_.s("edge.ripple.elevation"),s=new P,Y=_.s("edge.ripple.straight")?null:new P,Q=new m(p(u.y-b.y,u.x-b.x)),o=(N||(x=-x),(K-=2*R)/(F=0<T?W(K/T):F));Y&&Y.add(1);for(var k=0;k<F;k++)Y&&Y.add(3),0===k?s.add({x:R+o*k,y:w?0:U}):s.add({x:R+o*k,y:U}),s.add({x:R+o*k+o/2,y:x+U}),I&&(x=-x);for(s.add({x:R+K,y:w?0:U}),k=0;k<s.size();k++){var C=Q.tf(s.get(k));C.x+=b.x,C.y+=b.y,s.set(k,C)}return{points:s,segments:Y}}),_("h.v",function(_,U,u){U=o(_,u);var N=new P,b=_.s(M),K=h(u,_),R=K.x,K=K.y,F=$(u,_),T=F.x,F=F.y,I=_._40I instanceof r.Edge,w=_._41I instanceof r.Edge,x=0,s=0,Y=T-R,Q=F-K;return b||(x=I?0:v(u,_._40I)/2,s=w?0:t(u,_._41I)/2),0<=Y&&Q<=0?(N.add({x:R+x,y:K+U}),N.add({x:T+U,y:K+U}),N.add({x:T+U,y:F+s})):Y<=0&&0<=Q?(N.add({x:R-x,y:K+U}),N.add({x:T+U,y:K+U}),N.add({x:T+U,y:F-s})):0<=Y&&0<=Q?(N.add({x:R+x,y:K+U}),N.add({x:T-U,y:K+U}),N.add({x:T-U,y:F-s})):(N.add({x:R-x,y:K+U}),N.add({x:T-U,y:K+U}),N.add({x:T-U,y:F+s})),e(N,_)}),_("v.h",function(_,U,u){U=o(_,u);var N=new P,b=_.s(M),K=h(u,_),R=K.x,K=K.y,F=$(u,_),T=F.x,F=F.y,I=_._40I instanceof r.Edge,w=_._41I instanceof r.Edge,x=0,s=0,Y=T-R,Q=F-K;return b||(x=w?0:v(u,_._41I)/2,s=I?0:t(u,_._40I)/2),0<=Y&&Q<=0?(N.add({x:R+U,y:K-s}),N.add({x:R+U,y:F+U}),N.add({x:T-x,y:F+U})):Y<=0&&0<=Q?(N.add({x:R+U,y:K+s}),N.add({x:R+U,y:F+U}),N.add({x:T+x,y:F+U})):0<=Y&&0<=Q?(N.add({x:R-U,y:K+s}),N.add({x:R-U,y:F+U}),N.add({x:T-x,y:F+U})):(N.add({x:R-U,y:K-s}),N.add({x:R-U,y:F+U}),N.add({x:T+x,y:F+U})),e(N,_)}),_("ortho",function(_,U,u){var N=new P,b=_.s(M),K=_.s("edge.ortho"),R=_._40I,F=_._41I,T=h(u,_),I=T.x,T=T.y,w=$(u,_),x=w.x,w=w.y,s=x-I,Y=w-T,Q=R instanceof r.Edge,o=F instanceof r.Edge,k=b||Q?0:v(u,R)/2,Q=b||Q?0:t(u,R)/2,R=b||o?0:v(u,F)/2,b=b||o?0:t(u,F)/2,o=(s-(k+R)*(0<s?1:-1))*K,u=(Y-(Q+b)*(0<Y?1:-1))*K;return V(s)<V(Y)?0<=s&&Y<=0?(N.add({x:I+U,y:T-Q}),N.add({x:I+U,y:T+u+U-Q}),N.add({x:x+U,y:T+u+U-Q}),N.add({x:x+U,y:w+b})):s<=0&&0<=Y?(N.add({x:I+U,y:T+Q}),N.add({x:I+U,y:T+u+U+Q}),N.add({x:x+U,y:T+u+U+Q}),N.add({x:x+U,y:w-b})):0<=s&&0<=Y?(N.add({x:I+U,y:T+Q}),N.add({x:I+U,y:T+u-U+Q}),N.add({x:x+U,y:T+u-U+Q}),N.add({x:x+U,y:w-b})):(N.add({x:I+U,y:T-Q}),N.add({x:I+U,y:T+u-U-Q}),N.add({x:x+U,y:T+u-U-Q}),N.add({x:x+U,y:w+b})):0<=s&&Y<=0?(N.add({x:I+k,y:T+U}),N.add({x:I+o+U+k,y:T+U}),N.add({x:I+o+U+k,y:w+U}),N.add({x:x-R,y:w+U})):s<=0&&0<=Y?(N.add({x:I-k,y:T+U}),N.add({x:I+o+U-k,y:T+U}),N.add({x:I+o+U-k,y:w+U}),N.add({x:x+R,y:w+U})):0<=s&&0<=Y?(N.add({x:I+k,y:T+U}),N.add({x:I+o-U+k,y:T+U}),N.add({x:I+o-U+k,y:w+U}),N.add({x:x-R,y:w+U})):(N.add({x:I-k,y:T+U}),N.add({x:I+o-U-k,y:T+U}),N.add({x:I+o-U-k,y:w+U}),N.add({x:x+R,y:w+U})),e(N,_)}),_("flex",function(_,U,u){var N=new P,b=_.s("edge.flex")+C(_,u),K=_.s(M),R=_._40I,F=_._41I,T=h(u,_),I=T.x,T=T.y,w=$(u,_),x=w.x,w=w.y,s=R instanceof r.Edge,Y=F instanceof r.Edge,Q=x-I,o=w-T,k=K||s?0:v(u,R)/2,s=K||s?0:t(u,R)/2,R=K||Y?0:v(u,F)/2,K=K||Y?0:t(u,F)/2,Y=0<Q?b:-b,u=0<o?b:-b;return V(Q)<V(o)?0<=Q&&o<=0?(N.add({x:I+U,y:T-s}),N.add({x:I+U,y:T+u+U-s}),N.add({x:x+U,y:w-u+U+K}),N.add({x:x+U,y:w+K})):Q<=0&&0<=o?(N.add({x:I+U,y:T+s}),N.add({x:I+U,y:T+u+U+s}),N.add({x:x+U,y:w-u+U-K}),N.add({x:x+U,y:w-K})):0<=Q&&0<=o?(N.add({x:I+U,y:T+s}),N.add({x:I+U,y:T+u-U+s}),N.add({x:x+U,y:w-u-U-K}),N.add({x:x+U,y:w-K})):(N.add({x:I+U,y:T-s}),N.add({x:I+U,y:T+u-U-s}),N.add({x:x+U,y:w-u-U+K}),N.add({x:x+U,y:w+K})):0<=Q&&o<=0?(N.add({x:I+k,y:T+U}),N.add({x:I+Y+U+k,y:T+U}),N.add({x:x-Y+U-R,y:w+U}),N.add({x:x-R,y:w+U})):Q<=0&&0<=o?(N.add({x:I-k,y:T+U}),N.add({x:I+Y+U-k,y:T+U}),N.add({x:x-Y+U+R,y:w+U}),N.add({x:x+R,y:w+U})):0<=Q&&0<=o?(N.add({x:I+k,y:T+U}),N.add({x:I+Y-U+k,y:T+U}),N.add({x:x-Y-U-R,y:w+U}),N.add({x:x-R,y:w+U})):(N.add({x:I-k,y:T+U}),N.add({x:I+Y-U-k,y:T+U}),N.add({x:x-Y-U+R,y:w+U}),N.add({x:x+R,y:w+U})),e(N,_)}),_("extend.east",function(_,U,u){var N=new P,b=_.s(D)+C(_,u),K=_.s(M),R=h(u,_),F=_._40I instanceof r.Edge,T=_._41I instanceof r.Edge,F=R.x+(K||F?0:v(u,_._40I)/2),R=R.y,I=$(u,_),K=I.x+(K||T?0:v(u,_._41I)/2),T=I.y,u=Q(F,K)+b;return T<R?(N.add({x:F,y:R+U}),N.add({x:u+U,y:R+U}),N.add({x:u+U,y:T-U}),N.add({x:K,y:T-U})):(N.add({x:F,y:R-U}),N.add({x:u+U,y:R-U}),N.add({x:u+U,y:T+U}),N.add({x:K,y:T+U})),e(N,_)}),_("extend.west",function(_,U,u){var N=new P,b=_.s(D)+C(_,u),K=_.s(M),R=_._40I instanceof r.Edge,F=_._41I instanceof r.Edge,T=h(u,_),R=T.x-(K||R?0:v(u,_._40I)/2),T=T.y,I=$(u,_),K=I.x-(K||F?0:v(u,_._41I)/2),F=I.y,u=n(R,K)-b;return F<T?(N.add({x:R,y:T+U}),N.add({x:u-U,y:T+U}),N.add({x:u-U,y:F-U}),N.add({x:K,y:F-U})):(N.add({x:R,y:T-U}),N.add({x:u-U,y:T-U}),N.add({x:u-U,y:F+U}),N.add({x:K,y:F+U})),e(N,_)}),_("extend.north",function(_,U,u){var N=new P,b=_.s(D)+C(_,u),K=_.s(M),R=_._40I instanceof r.Edge,F=_._41I instanceof r.Edge,T=h(u,_),I=T.x,T=T.y-(K||R?0:t(u,_._40I)/2),R=$(u,_),w=R.x,R=R.y-(K||F?0:t(u,_._41I)/2),K=n(T,R)-b;return w<I?(N.add({y:T,x:I+U}),N.add({y:K-U,x:I+U}),N.add({y:K-U,x:w-U}),N.add({y:R,x:w-U})):(N.add({y:T,x:I-U}),N.add({y:K-U,x:I-U}),N.add({y:K-U,x:w+U}),N.add({y:R,x:w+U})),e(N,_)}),_("extend.south",function(_,U,u){var N=new P,b=_.s(D)+C(_,u),K=_.s(M),R=_._40I instanceof r.Edge,F=_._41I instanceof r.Edge,T=h(u,_),I=T.x,T=T.y+(K||R?0:t(u,_._40I)/2),R=$(u,_),w=R.x,R=R.y+(K||F?0:t(u,_._41I)/2),K=Q(T,R)+b;return w<I?(N.add({y:T,x:I+U}),N.add({y:K+U,x:I+U}),N.add({y:K+U,x:w-U}),N.add({y:R,x:w-U})):(N.add({y:T,x:I-U}),N.add({y:K+U,x:I-U}),N.add({y:K+U,x:w+U}),N.add({y:R,x:w+U})),e(N,_)});_("ortho2",function(_,U,u,N){var b,K,R=_.s(M),F=_.s("edge.ortho"),T=_.getSourceAgent(),I=_.getTargetAgent(),w=T.getId()>I.getId(),x=w?I:T,T=w?T:I,I=x instanceof r.Edge,s=T instanceof r.Edge,Y=I?L(u,x):x.p(),Q=s?L(u,T):T.p(),o=O(u,_,x),k=O(u,_,T),C=R||I?0:v(u,x)/2,I=R||I?0:t(u,x)/2,x=R||s?0:v(u,T)/2,R=R||s?0:t(u,T)/2,s=new P,u=o.offset,T=k.offset,k=o.side;return k===f?(b=Q.y>Y.y?-u:u,K=Y.x+C+(Q.x-x-Y.x-C)*F,s.add({x:Y.x+C,y:Y.y+u}),s.add({x:K+b,y:Y.y+u}),s.add({x:K+b,y:Q.y+T}),s.add({x:Q.x-x,y:Q.y+T})):k===q?(b=Q.y>Y.y?-u:u,K=Y.x-C-(Y.x-C-Q.x-x)*F,s.add({x:Y.x-C,y:Y.y+u}),s.add({x:K-b,y:Y.y+u}),s.add({x:K-b,y:Q.y+T}),s.add({x:Q.x+x,y:Q.y+T})):k===a?(b=Q.x>Y.x?-u:u,K=Y.y+I+(Q.y-R-Y.y-I)*F,s.add({x:Y.x+u,y:Y.y+I}),s.add({x:Y.x+u,y:K+b}),s.add({x:Q.x+T,y:K+b}),s.add({x:Q.x+T,y:Q.y-R})):k===l&&(b=Q.x>Y.x?-u:u,K=Y.y-I-(Y.y-I-Q.y-R)*F,s.add({x:Y.x+u,y:Y.y-I}),s.add({x:Y.x+u,y:K-b}),s.add({x:Q.x+T,y:K-b}),s.add({x:Q.x+T,y:Q.y+R})),w&&s.reverse(),e(s,_)},!0),_("flex2",function(_,U,u,N){var b,K=_.getSourceAgent(),R=_.getTargetAgent(),F=K.getId()>R.getId(),T=F?R:K,K=F?K:R,R=T instanceof r.Edge,I=K instanceof r.Edge,w=R?L(u,T):T.p(),x=I?L(u,K):K.p(),s=O(u,_,T),Y=O(u,_,K),Q=_.s(M),o=_.s("edge.flex")+(s.size-1)/2*_.s(X),k=Q||R?0:v(u,T)/2,R=Q||R?0:t(u,T)/2,T=Q||I?0:v(u,K)/2,Q=Q||I?0:t(u,K)/2,I=new P,u=s.offset,K=Y.offset,Y=s.side;return Y===f?(b=x.y>w.y?-u:u,I.add({x:w.x+k,y:w.y+u}),I.add({x:w.x+k+o+b,y:w.y+u}),I.add({x:x.x-T-o+b,y:x.y+K}),I.add({x:x.x-T,y:x.y+K})):Y===q?(b=x.y>w.y?-u:u,I.add({x:w.x-k,y:w.y+u}),I.add({x:w.x-k-o-b,y:w.y+u}),I.add({x:x.x+T+o-b,y:x.y+K}),I.add({x:x.x+T,y:x.y+K})):Y===a?(b=x.x>w.x?-u:u,I.add({x:w.x+u,y:w.y+R}),I.add({x:w.x+u,y:w.y+R+o+b}),I.add({x:x.x+K,y:x.y-Q-o+b}),I.add({x:x.x+K,y:x.y-Q})):Y===l&&(b=x.x>w.x?-u:u,I.add({x:w.x+u,y:w.y-R}),I.add({x:w.x+u,y:w.y-R-o-b}),I.add({x:x.x+K,y:x.y+Q+o-b}),I.add({x:x.x+K,y:x.y+Q})),F&&I.reverse(),e(I,_)},!0),_("extend.north2",function(_,U,u){var N=_.getSourceAgent(),b=_.getTargetAgent(),K=N.getId()>b.getId(),R=K?b:N,N=K?N:b,b=R instanceof r.Edge,F=N instanceof r.Edge,T=b?L(u,R):R.p(),I=F?L(u,N):N.p(),w=Y(u,_,R,l),x=Y(u,_,N,l,!0),s=_.s(M),b=s||b?0:t(u,R)/2,R=s||F?0:t(u,N)/2,s=w.offset,F=x.offset,u=_.s(D)+(w.size-1)/2*_.s(X),N=n(T.y-b,I.y-R)-u+(T.x<I.x?s:-s),x=new P;return x.add({x:T.x+s,y:T.y-b}),x.add({x:T.x+s,y:N}),x.add({x:I.x+F,y:N}),x.add({x:I.x+F,y:I.y-R}),K&&x.reverse(),e(x,_)},!0),_("extend.south2",function(_,U,u){var N=_.getSourceAgent(),b=_.getTargetAgent(),K=N.getId()>b.getId(),R=K?b:N,N=K?N:b,b=R instanceof r.Edge,F=N instanceof r.Edge,T=b?L(u,R):R.p(),I=F?L(u,N):N.p(),w=Y(u,_,R,a),x=Y(u,_,N,a,!0),s=_.s(M),b=s||b?0:t(u,R)/2,R=s||F?0:t(u,N)/2,s=w.offset,F=x.offset,u=_.s(D)+(w.size-1)/2*_.s(X),N=Q(T.y+b,I.y+R)+u+(T.x>I.x?s:-s),x=new P;return x.add({x:T.x+s,y:T.y+b}),x.add({x:T.x+s,y:N}),x.add({x:I.x+F,y:N}),x.add({x:I.x+F,y:I.y+R}),K&&x.reverse(),e(x,_)},!0),_("extend.west2",function(_,U,u){var N=_.getSourceAgent(),b=_.getTargetAgent(),K=N.getId()>b.getId(),R=K?b:N,N=K?N:b,b=R instanceof r.Edge,F=N instanceof r.Edge,T=b?L(u,R):R.p(),I=F?L(u,N):N.p(),w=Y(u,_,R,l),x=Y(u,_,N,l,!0),s=_.s(M),b=s||b?0:v(u,R)/2,R=s||F?0:v(u,N)/2,s=w.offset,F=x.offset,u=_.s(D)+(w.size-1)/2*_.s(X),N=n(T.x-b,I.x-R)-u+(T.y<I.y?s:-s),x=new P;return x.add({x:T.x-b,y:T.y+s}),x.add({x:N,y:T.y+s}),x.add({x:N,y:I.y+F}),x.add({x:I.x-R,y:I.y+F}),K&&x.reverse(),e(x,_)},!0),_("extend.east2",function(_,U,u){var N=_.getSourceAgent(),b=_.getTargetAgent(),K=N.getId()>b.getId(),R=K?b:N,N=K?N:b,b=R instanceof r.Edge,F=N instanceof r.Edge,T=b?L(u,R):R.p(),I=F?L(u,N):N.p(),w=Y(u,_,R,l),x=Y(u,_,N,l,!0),s=_.s(M),b=s||b?0:v(u,R)/2,R=s||F?0:v(u,N)/2,s=w.offset,F=x.offset,u=_.s(D)+(w.size-1)/2*_.s(X),N=Q(T.x+b,I.x+R)+u+(T.y>I.y?s:-s),x=new P;return x.add({x:T.x+b,y:T.y+s}),x.add({x:N,y:T.y+s}),x.add({x:N,y:I.y+F}),x.add({x:I.x+R,y:I.y+F}),K&&x.reverse(),e(x,_)},!0),_("v.h2",function(_,U,u){return N(_,u,b)},!0),_("h.v2",function(_,U,u){return N(_,u,w)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);